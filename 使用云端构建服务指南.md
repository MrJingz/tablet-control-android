# 云端Android APK构建指南

## 🚀 推荐方案

### 1. GitHub Actions（免费，推荐）

**优势：**
- 完全免费（每月2000分钟）
- 自动化构建
- 支持多平台
- 集成度高

**使用步骤：**
1. 将项目推送到GitHub仓库
2. 使用我创建的 `.github/workflows/build-android.yml` 文件
3. 推送代码后自动触发构建
4. 在Actions页面下载生成的APK

### 2. GitLab CI/CD（免费）

**优势：**
- 每月400分钟免费
- 支持私有仓库
- 配置灵活

**配置文件：** `.gitlab-ci.yml`
```yaml
build-android:
  image: ubuntu:20.04
  stage: build
  script:
    - apt-get update && apt-get install -y openjdk-11-jdk maven wget
    - # 安装GraalVM和Android SDK的脚本
    - cd gluon-crossplatform && mvn gluonfx:build -Pandroid
  artifacts:
    paths:
      - gluon-crossplatform/target/gluonfx/aarch64-android/*.apk
```

### 3. Docker本地构建

**使用步骤：**
```bash
# 构建Docker镜像
docker build -f Dockerfile.android -t android-builder .

# 运行构建
docker run -v "$(pwd):/workspace" -v "$(pwd)/output:/workspace/output" android-builder

# APK文件将生成在 ./output/ 目录
```

### 4. 在线构建平台

**Gitpod（推荐）：**
- 基于浏览器的开发环境
- 每月50小时免费
- 支持完整的Linux环境

**CodeSandbox：**
- 在线IDE
- 支持后端项目
- 免费使用

## 📱 预期结果

成功构建后将得到：
- `TabletControl-Android.apk` - 可安装的Android应用
- 文件大小约：15-30MB
- 支持Android 7.0+设备

## 🔧 故障排除

**常见问题：**
1. **内存不足**：增加Docker内存限制或使用云端服务
2. **网络超时**：使用国内镜像或代理
3. **依赖冲突**：检查Maven依赖版本

**验证APK：**
```bash
# 检查APK信息
aapt dump badging TabletControl-Android.apk

# 安装到设备
adb install TabletControl-Android.apk
```

## 💡 建议

1. **首选GitHub Actions**：最稳定可靠
2. **备选Docker**：本地控制更好
3. **测试优先**：先在模拟器测试
4. **版本管理**：使用语义化版本号

选择最适合您的方案开始构建！
